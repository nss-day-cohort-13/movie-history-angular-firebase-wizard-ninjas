<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Movie History</title>
    <!-- bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <link rel="stylesheet" href="css/main.css">
  </head>
  <body ng-app="movieHunter">

  <!-- nav bar div. connected to Controller 1. -->
  <div id="searchBar" ng-controller="controller1">
    <form class="form-inline" ng-submit="getSearchValue(searchBarMovie)">
      <div class="form-group formGroup">
        <label for="searchBarMovie">Search Movies
            <input id= "searchBarMovie"type="text" class="form-control" placeholder = "movie title only please" ng-model="searchBarMovie">
        </label>
        <button type="submit" class="btn btn-default">Search</button>
      </div>

    </form>
    </div>

    <!-- My movies Div. connected to controller 3 -->
    <div id="myMovies" ng-controller="controller3">
      <button class = "btn btn-success" ng-click="asnychronousLoadMyMovies()">Load My Movies</button>

      <div class="container-fluid">
      <div class="row">
      <!-- MAIN NG REPEAT -->
        <div class="col col-xs-4" ng-repeat="(id, movie) in currentMoviesObject">
          <h3>{{movie.name}}</h3>
          <p>Released {{movie.released}}</p>
          <p>Cast: <span ng-repeat="member in movie.cast">{{member}}, </span></p>
          <!-- EDIT MOVIE FORM -->
          <form class="form-group" ng-submit="editMovie(id, movie)">
            <label  class="form-control" for="watched">Watched?
              <input id="watched" type="checkbox" ng-checked="movie.watched" ng-click="changeWatched(movie)">
            </label>
            <label class="form-control" for="rating" ng-if="movie.watched">Rating
              <label ng-repeat="rating in ratingsOptions" for="{{rating}}">
                {{rating}}
                <input
                  type="radio"
                  ng-model="movie.rating"
                  ng-value="rating"
                  name="rating">
              </label>
            </label>
            <button class="btn btn-default" type="submit">Submit Changes</button>
          </form>
            <!-- DELETE MOVIE BUTTON -->
          <button class="btn btn-danger" ng-click="deleteMovie(id, movie)">Delete Movie</button>
        </div>
      </div>
      </div>
    </div>

    <script src="/node_modules/jquery/dist/jquery.min.js" type="text/javascript"></script>
    <script src="/node_modules/angular/angular.min.js"></script>
    <script src="/node_modules/angular-route/angular-route.min.js"></script>
    <script src="/javascripts/movie-hunter.js" type="text/javascript" charset="utf-8"></script>
    <script src="/javascripts/controller1.js" type="text/javascript" charset="utf-8"></script>
    <script src="/javascripts/factoryTwo.js" type="text/javascript" charset="utf-8"></script>
    <script src="/javascripts/controller2.js" type="text/javascript" charset="utf-8"></script>
    <script src="/javascripts/controller3.js" type="text/javascript" charset="utf-8"></script>
    <script src="/javascripts/factory1.js" type="text/javascript" charset="utf-8"></script>
  </body>
</html>
